import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GEMINI_AI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-2.0-flash-exp",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};


  export const chatSession = model.startChat({
    generationConfig,
    history: [
      {
        role: "user",
        parts: [
          {text: "Generate Travel Plan for Location : Las Vegas, for 3 Days for Couple with a Cheap budget,Give me a Hotels options list with\nHotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place\nDetails, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time to travel each of the location for 3 days with each day plan with\nbest time to visit in JSON format.\n"},
        ],
      },
      {
        role: "model",
        parts: [
          {text: "Okay, here's a possible 3-day budget-friendly Las Vegas itinerary for a couple, along with hotel options and detailed information in JSON format.\n\n```json\n{\n  \"location\": \"Las Vegas, Nevada\",\n  \"budget\": \"Cheap\",\n  \"travelers\": \"Couple\",\n  \"duration\": \"3 Days\",\n  \"hotels\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$50-$100 per night\",\n       \"hotelImageURL\": \"https://media-cdn.tripadvisor.com/media/photo-s/16/6a/07/3e/circus-circus-hotel-casino.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1379,\n        \"longitude\": -115.1659\n      },\n      \"rating\": 3.5,\n      \"description\": \"A classic Las Vegas hotel with a carnival theme, offering affordable rooms and family-friendly entertainment. Great location at the northern end of the Strip. Known for their Adventuredome theme park.\"\n    },\n    {\n        \"hotelName\": \"The LINQ Hotel + Experience\",\n        \"hotelAddress\": \"3535 S Las Vegas Blvd, Las Vegas, NV 89109\",\n        \"price\": \"$70 - $150 per night\",\n         \"hotelImageURL\": \"https://media-cdn.tripadvisor.com/media/photo-s/19/28/6a/08/the-linq-hotel-experience.jpg\",\n        \"geoCoordinates\": {\n            \"latitude\": 36.1169,\n             \"longitude\": -115.1697\n        },\n        \"rating\": 4.0,\n        \"description\": \"Modern hotel in the heart of the Strip with easy access to entertainment and dining options. Known for The LINQ Promenade and High Roller observation wheel.\"\n      },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$40 - $90 per night\",\n       \"hotelImageURL\":\"https://media-cdn.tripadvisor.com/media/photo-s/16/35/73/54/excalibur-hotel-casino.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0972,\n        \"longitude\": -115.1742\n      },\n      \"rating\": 3.8,\n      \"description\": \"A castle-themed hotel offering budget-friendly accommodations and medieval-style entertainment. Located on the southern part of the Strip.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the South Strip & Free Attractions\",\n      \"bestTimeToVisit\": \"Morning and Evening\",\n      \"places\": [\n        {\n          \"placeName\": \"Welcome to Fabulous Las Vegas Sign\",\n          \"placeDetails\": \"A classic Las Vegas landmark, great for photos. It's free to visit, just a quick stop.\",\n           \"placeImageURL\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5f/Welcome_to_Las_Vegas_Sign_Full.jpg/800px-Welcome_to_Las_Vegas_Sign_Full.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0828,\n            \"longitude\": -115.1723\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n            \"timeToTravel\": \"15-20 min drive from the hotels\"\n        },\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Gardens\",\n          \"placeDetails\": \"Beautiful indoor garden display, changes with the seasons. Free to visit inside the Bellagio Hotel.\",\n          \"placeImageURL\":\"https://media-cdn.tripadvisor.com/media/photo-s/19/72/d2/3a/bellagio-conservatory-botanical.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1128,\n            \"longitude\": -115.1737\n          },\n          \"ticketPricing\": \"Free\",\n           \"rating\": 4.8,\n             \"timeToTravel\": \"10 min drive from Welcome Sign\"\n        },\n           {\n            \"placeName\": \"Bellagio Fountains\",\n            \"placeDetails\": \"A spectacular water show set to music. Free show in front of the Bellagio Hotel. Multiple shows in the afternoon and evening.\",\n             \"placeImageURL\": \"https://media-cdn.tripadvisor.com/media/photo-s/16/19/95/f2/bellagio-fountains.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1124,\n              \"longitude\": -115.1744\n            },\n            \"ticketPricing\": \"Free\",\n             \"rating\": 4.9,\n               \"timeToTravel\": \"walking distance from Bellagio Conservatory\"\n          },\n         {\n              \"placeName\": \"Mirage Volcano\",\n              \"placeDetails\": \"An erupting volcano show. Free show in front of the Mirage Hotel. Evening shows.\",\n              \"placeImageURL\": \"https://media-cdn.tripadvisor.com/media/photo-s/08/54/09/04/the-volcano-at-the-mirage.jpg\",\n              \"geoCoordinates\": {\n                \"latitude\": 36.1227,\n                \"longitude\": -115.1722\n              },\n              \"ticketPricing\": \"Free\",\n               \"rating\": 4.6,\n                \"timeToTravel\": \"10 min walk from Bellagio Fountains\"\n            }\n      ]\n    },\n     \"day2\": {\n      \"theme\": \"Downtown & Fremont Street Experience\",\n      \"bestTimeToVisit\": \"Late Afternoon and Evening\",\n      \"places\": [\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"A pedestrian mall with a massive video screen overhead. Free to walk around, watch light shows and listen to music.\",\n          \"placeImageURL\":\"https://media-cdn.tripadvisor.com/media/photo-s/15/02/8b/0d/fremont-street-experience.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1700,\n            \"longitude\": -115.1427\n          },\n          \"ticketPricing\": \"Free\",\n           \"rating\": 4.7,\n            \"timeToTravel\": \"20-30 min drive from the hotels\"\n        },\n        {\n          \"placeName\": \"The Mob Museum\",\n          \"placeDetails\": \"Museum dedicated to the history of organized crime in America. Entry fee applies. (Optional, if budget allows)\",\n          \"placeImageURL\": \"https://media-cdn.tripadvisor.com/media/photo-s/11/6b/e3/e8/exterior.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1695,\n            \"longitude\": -115.1414\n          },\n          \"ticketPricing\": \"$30 per person (optional)\",\n           \"rating\": 4.6,\n           \"timeToTravel\":\"5 min walk from Fremont Street\"\n        },\n       {\n          \"placeName\": \"Container Park\",\n           \"placeDetails\":\"Open-air shopping and dining area made from repurposed shipping containers. Free to enter. Located in downtown. \",\n           \"placeImageURL\":\"https://media-cdn.tripadvisor.com/media/photo-s/09/89/29/b0/downtown-container-park.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1679,\n            \"longitude\": -115.1414\n           },\n          \"ticketPricing\": \"Free\",\n           \"rating\": 4.4,\n             \"timeToTravel\": \"5 min walk from Mob Museum\"\n        }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"Exploring the Mid-Strip & Departure\",\n       \"bestTimeToVisit\": \"Morning and Afternoon\",\n       \"places\": [\n        {\n          \"placeName\": \"The LINQ Promenade\",\n          \"placeDetails\": \"Outdoor entertainment area with shops, restaurants, and the High Roller observation wheel. Free to walk around, other activities have a cost.\",\n           \"placeImageURL\": \"https://media-cdn.tripadvisor.com/media/photo-s/06/08/69/d5/the-linq.jpg\",\n           \"geoCoordinates\": {\n            \"latitude\": 36.1175,\n            \"longitude\": -115.1691\n          },\n          \"ticketPricing\": \"Free to walk around (other activities cost extra)\",\n           \"rating\": 4.5,\n             \"timeToTravel\": \"walking distance from The LINQ hotel\"\n        },\n         {\n          \"placeName\": \"Eiffel Tower Viewing Deck (Paris Hotel)\",\n          \"placeDetails\": \"A half-scale replica of the Eiffel Tower with a viewing deck, offering stunning views of the Strip. Entry fee applies.\",\n           \"placeImageURL\": \"https://media-cdn.tripadvisor.com/media/photo-s/17/4a/d1/5f/eiffel-tower-viewing-deck.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1104,\n             \"longitude\": -115.1708\n            },\n          \"ticketPricing\": \"$25-30 per person\",\n          \"rating\": 4.7,\n             \"timeToTravel\": \"5 min walk from The LINQ Promenade\"\n          },\n           {\n          \"placeName\": \"M&M's World or Coca-Cola Store\",\n          \"placeDetails\": \"Fun, themed retail experiences (not just for kids). Browse the displays, take pictures. Free to enter.\",\n            \"placeImageURL\": \"https://media-cdn.tripadvisor.com/media/photo-s/01/06/f1/6f/mm-world.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1075,\n            \"longitude\": -115.1715\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.3,\n              \"timeToTravel\": \"10 min walk from Eiffel Tower\"\n           }\n\n      ]\n    }\n  }\n}\n```\n**Notes:**\n\n*   **Prices:** Hotel prices are estimates and vary based on time of year, day of the week, and booking platform. Always check for current rates.\n*   **Transportation:** This itinerary assumes you'll primarily walk on the Strip and use ride-sharing or public transportation for longer distances. The Deuce bus is a cost-effective option.\n*   **Budget:** A \"cheap\" budget in Vegas focuses on free activities and cheap eats. Consider sharing meals, utilizing coupons, and bringing snacks and water.\n*   **Flexibility:**  Feel free to adjust this plan to suit your interests and energy levels.\n*   **Booking:** Book hotels in advance, especially if you're traveling during peak season.\n* **Restaurant:** Explore cheap eats options, utilize restaurant coupons and take advantage of happy hour deals.\n* **Shows:** There are free shows which I have mentioned here, other than that check for last minutes shows/tickets for better deals.\n\nEnjoy your trip to Las Vegas!\n"},
        ],
      },
    ],
  });
